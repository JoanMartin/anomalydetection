{% extends "base.html" %}
{% block title %}Home{% end %}
{% block head %}
	<link rel="stylesheet" href="https://cdn.pydata.org/bokeh/release/bokeh-0.12.15.css"
        type="text/css" />
  <script src="//cdn.pydata.org/bokeh/release/bokeh-0.12.15.min.js"></script>
  <script src="//cdn.pydata.org/bokeh/release/bokeh-widgets-0.12.15.min.js"></script>
{% end %}
{% block nav %}
<li class="dropdown messages-menu">
  <a href="#" id="ws-indicator" class="dropdown-toggle" title="WS not connected"
      data-placement="bottom">
    <i class="fa fa-circle text-red"></i>
    <span class="label label-success"></span>
  </a>
</li>
{% end %}
{% block content %}
<div class="row">
  <!-- left column -->
  <div class="col-md-2">
    <!-- general form elements -->
    <div class="box box-primary">
      <div class="box-header with-border">
        <h3 class="box-title">Model settings</h3>
      </div>
      <!-- /.box-header -->
      <!-- form start -->
      <form role="form" method="get">
        <div class="box-body">
          <div class="form-group">
            <label>Select</label>
            <select name="engine" class="form-control">
              {% for key, value in engines.items() %}
                <option class="option"
                        {% if engine_key == key %}
                          selected="selected"
                        {% end %}
                        value="{{ key }}">{{ value['name'] }}</option>
              {% end %}
            </select>
          </div>
          <div class="form-group">
            <label>From date</label>
            <div class="input-group">
              <div class="input-group-addon">
                <i class="fa fa-calendar"></i>
              </div>
              <input type="text" name="from-date" class="form-control"
                     value="{{ form_data['from-date'] }}"
                     data-inputmask="'alias': 'dd-mm-yyyy'" data-datemask="datemask">
            </div>
          </div>
          <div class="form-group">
            <label>To date</label>
            <div class="input-group">
              <div class="input-group-addon">
                <i class="fa fa-calendar"></i>
              </div>
              <input type="text" name="to-date" class="form-control"
                     value="{{ form_data['to-date'] }}"
                     data-inputmask="'alias': 'dd-mm-yyyy'" data-datemask="datemask">
            </div>
          </div>
          <div class="form-group">
            <label for="threshold">Threshold</label>
            <input type="number" class="form-control" id="threshold"
                   name="threshold" value="{{ form_data['threshold'] }}"
                   min="0.50" max="1.0" step="0.00000000001"
                   placeholder="Threshold">
          </div>
          <div class="form-group">
            <label for="window-size">Window size</label>
            <input type="number" class="form-control" id="window-size"
                   name="window" value="{{ form_data['window'] }}"
                   placeholder="Window size">
          </div>
        </div>
        <div class="box-footer">
          <button type="submit" class="btn btn-primary">Submit</button>
        </div>
      </form>
    </div>
    <!-- /.box -->
  </div>
  <div class="col-md-10">
    <div class="box box-primary">
      <div class="box-header with-border">
        <h3 class="box-title">{{ engine_name }}</h3>
      </div>
      {% raw div %}
    </div>
  </div>
  <!-- /.col -->
</div>
<!-- /.row -->

{% block script%}
  {% raw script %}
{% end %}
<script src="/static/vendor/inputmask/inputmask.js"></script>
<script src="/static/vendor/inputmask/inputmask.dependencyLib.js"></script>
<script src="/static/vendor/inputmask/inputmask.dependencyLib.jquery.js"></script>
<script src="/static/vendor/inputmask/jquery.inputmask.js"></script>
<script src="/static/vendor/inputmask/inputmask.date.extensions.js"></script>
<script src="/static/vendor/inputmask/inputmask.extensions.js"></script>
<script>
  $(function () {
    $('[data-datemask]').inputmask('dd-mm-yyyy', { 'placeholder': 'dd-mm-yyyy' })
  })
</script>
{% end %}